<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">

  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,600,700,800,900" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet">

  <body class="dashboard" id="onboarding">
    <!-- HEADER & MENU -->
    <div class="container-fluid header-top">
      <div class="menu-img">
        <img src="img/logo-dark.png" alt="Livia Health Logo" style="width:auto; height:40px;">
      </div>
      <div class="menu-top" style="margin-right:1rem;">
        <img src="img/pete.png" alt="user image" style="width: 32px; height: 32px">
        <span class="user-name">John Doe</span>
        <!--<img src="img/icon-arrow-bottom.png" style="width: 24px; height: 24px">-->
      </div>

    </div>
    <div class="header-left">
      <div class="menu-left">

      </div>
    </div>


      <div class="d-flex justify-content-center">
        <div class="cards-container" style="background-color:#f7f8f9;">
          <!--Progress bar-->
          <div class="container d-flex justify-content-center" style="margin-bottom:32px;">
            <span class="ProgressBar"><span id="PBOne">Overview</span></span>
            <img src="img/lineHorizontal.svg">
            <span class="ProgressBar"><span id="PBTwo">Connect a service</span></span>
            <img src="img/lineHorizontal.svg">
            <span class="ProgressBar"><span id="PBThree">check your data</span></span>
            <img src="img/lineHorizontal.svg">
            <span class="ProgressBar"><span id="PBFour">summary</span></span>
          </div>
          <div id="carouselSlides" class="carousel slide" data-ride="carousel" data-interval="false">
            <div class="carousel-inner" interval="false">

              <!-- slide 1 Welcome -->
              <div class="carousel-item active carouselContainer">
                <!-- welcome message-->
                <div class="container">
                  <div class="carouselContentContainer">
                    <div class="container headerContainer">
                      <!-- Greeting with username -->
                      <h1 class="d-flex justify-content-center greeting-onboarding">Hi John!</h1>
                    </div>
                    <div class="d-flex justify-content-center">
                      <div class="card s1-text-container">
                        <span class="welcome-text">Thanks for using Livia. In this short setup you have the possibility to connect one of your currently used health services. Based on the data youâ€™re tracking with your device we provide you with personalized and useful insights. So that you can live a healthy life.</span>
                        <span class="welcome-text">Currently using no other services? No problem, you can simply track your most important metrics manually.</span>
                      </div>
                    </div>
                  </div>
                  <div class="d-flex justify-content-center">
                    <button type="button" class="btn btn-red btn-next-slides-all" id="btn-next-slide-one">NEXT</button>
                  </div>
                </div>
              </div>
              <!-- slide 2: Choose devices-->
              <!--Progress bar -->
              <div class="carousel-item carouselContainer">
                <!--placeholder stuff: <img class="d-block w-100" src="img/pete.png" alt="Second slide"> -->
                <div class="container">
                  <div class="carouselContentContainer">
                    <div class="container headerContainer">
                      <!-- h1 and and subtext -->
                      <div class="">
                        <h1 class="d-flex justify-content-center greeting-onboarding">Connecting your first service!</h1>
                        <p class="d-flex justify-content-center subtext-onboarding">Do you use any of these services?</p>
                      </div>
                    </div>
                    <div class="d-flex justify-content-center">

                      <!-- card fitbit -->
                      <a href="#">
                        <div class="card s2-logo-container d-flex justify-content-center" id="serviceOne">
                          <div class="d-flex p-2 justify-content-center">
                            <img src="img/partner_fitbit.png" alt="fitbit Logo" class="img-responsive" style="width:10rem;height:2.5rem;">
                          </div>
                        </div>
                      </a>

                      <!-- card Garmin -->
                      <a href="#">
                        <div class="card s2-logo-container d-flex justify-content-center" id="serviceTwo">
                          <div class="d-flex p-2 justify-content-center">
                            <img src="img/partner_garmin.png" alt="Garmin Logo" class="img-responsive" style="width:10rem;height:2.77rem;">
                          </div>
                        </div>
                      </a>

                      <!-- card Polar -->
                      <a href="#">
                        <div class="card s2-logo-container d-flex justify-content-center" id="serviceThree">
                          <div class="d-flex p-2 justify-content-center">
                            <img src="img/partner_polar.png" alt="Polar Logo" class="img-responsive" style="width:10rem;height:1.76rem;">
                          </div>
                        </div>
                      </a>
                      <a href="#" class="noneServiceText">
                        <div class="card s2-logo-container d-flex justify-content-center" id="serviceFour">
                            <span class="d-flex justify-content-center">None of these</span>
                        </div>
                      </a>
                    </div>
                  </div>
                </div>
                <div class="d-flex justify-content-center">
                  <div>
                    <button type="button" class="btn btn-grey btn-next-slides-all" id="btn-prev-slide-two">BACK</button>
                  </div>
                  <button disabled type="button" class="btn btn-red btn-next-slides-all" id="btn-next-slide-two">NEXT</button>
                </div>
              </div>
              <!-- slide 3: Check and verify data-->
              <div class="carousel-item carouselContainer">
                <!-- welcome message-->
                <div class="container">
                  <div class="carouselContentContainer">
                    <div class="container headerContainer">
                      <!-- Greeting with username -->
                      <h1 class="d-flex justify-content-center greeting-onboarding">We found some information!</h1>
                      <p class="d-flex justify-content-center subtext-onboarding">Everything correct? If not, please adjust these metrics.</p>
                    </div>
                    <div class="d-flex justify-content-center">
                      <div class="cardSlideFour s1-text-container" style="background-color:;width:600px;padding-top:0">

                        <form>
                          <div class="form-row">
                            <div class="form-group col-md-6">
                              <label class="labelInput">FIRST NAME</label>
                              <input type="text" class="form-control" id="inputFirstName" placeholder="First Name" value="John">
                            </div>
                            <div class="form-group col-md-6">
                              <label class="labelInput">Last Name</label>
                              <input type="text" class="form-control" id="inputLastName" placeholder="Last Name" value="Doe">
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="labelInput" for="exampleInputEmail1">Email address</label>
                            <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email" value="john.doe@gmail.com">
                          </div>
                          <div class="form-row">
                            <div class="form-group col-md-4">
                              <label class="labelInput">body height</label>
                              <input type="text" class="form-control" id="inputBodyHeight" placeholder="Body Height" value="182 cm">
                            </div>
                            <div class="form-group col-md-4">
                              <label class="labelInput">body weight</label>
                              <input type="text" class="form-control" id="inputBodyWeight" placeholder="Body Weight" value="91 kg">
                            </div>
                            <div class="form-group col-md-4">
                              <label class="labelInput" for="inputState">Unit</label>
                              <select id="inputState" class="form-control">
                                <option selected>Metric</option>
                                <option>Imperial</option>
                              </select>
                            </div>
                          </div>
                        </form>

                      </div>
                    </div>
                  </div>
                  <div class="d-flex justify-content-center">
                    <button type="button" class="btn btn-grey btn-next-slides-all" id="btn-prev-slide-three">BACK</button>
                    <button type="button" class="btn btn-red btn-next-slides-all" id="btn-next-slide-three">NEXT</button>
                  </div>
                </div>
              </div>
              <!-- slide 4: Finish-->
              <div class="carousel-item carouselContainer">
                <!-- welcome message-->
                <div class="container">
                  <div class="carouselContentContainer">
                    <div class="container headerContainer">
                      <!-- Greeting with username -->
                      <h1 class="d-flex justify-content-center greeting-onboarding">Youâ€™re ready to go!</h1>
                    </div>
                    <div class="d-flex justify-content-center">
                      <div class="cardSlideFour s1-text-container">
                        <div class="container">
                          <div class="row">
                            <div class="col-sm-3">
                              <img src="img/patient.svg" style="width:112px;">
                            </div>
                            <div class="col-sm-9">
                              <span class="welcome-text">Youâ€™re now set to start exploring your new personal health assistant. You can also simply add further services to your dashboard.</span>
                              <br><br>
                              <span class="welcome-text">In you profile settings you can repeat this setup process if you want to. And remember: If you have any questions, feel free to contact us. Like Livia weâ€™re there for you. Always.</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="d-flex justify-content-center">
                    <button type="button" class="btn btn-grey btn-next-slides-all" id="btn-prev-slide-four">BACK</button>
                    <a href="dashboard.html"><button type="button" class="btn btn-red btn-next-slides-all" id="btn-finish-slide-three">FINISH</button></a>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div class="alert alert-info alert-dismissible fade show" role="alert" id="alertBanner">
          Please select at least one service or check "None of these"
          <!--<button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>-->
      </div>

      <!-- Lets get the Garmin-login Popup for slide two -->
      <!-- The popup -->
      <div id="LoginPopup" class="loginPopup">
        <!-- Popup content -->
        <div class="container" id="loginContainer">
          <span class="close">&times;</span>
          <h1>Anmeldung beim <br> Garmin-Konto</h1>
          <form>
            <div class="form-group">
              <label for="formGroupEmail">Email</label>
              <input type="text" class="form-control" id="formGroupExampleInput" placeholder="">
            </div>
            <div class="form-group">
              <label for="formGroupKennwort">Kennwort <a href="#">(Vergessen?)</a></label>
              <input type="password" class="form-control" id="inputPassword4" placeholder="">
            </div>
            <div class="row">
              <div class="col-auto">
                <button type="submit" class="btn btn-primary" id="garminLogin">Anmelden</button>
              </div>
              <div class="form-check mb-6" id="rememberRadioBtn">
                <input class="form-check-input" type="checkbox" id="autoSizingCheck">
                <label class="form-check-label" for="autoSizingCheck">
                  Daten speichern
                </label>
              </div>
            </div>
          </form>
          <!--<div class="loader" id="loading"></div>-->
          <div id="registrierenText">
            Sie haben kein Konto? <a href="#">Konto erstellen</a>
          </div>
        </div>
      </div>






    <!-- 1 is jQuery , 2 is Popper.js,  is Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"></script>


    <!-- JavaScript here -->
    <script type="text/javascript">
      setTimeout(function() {
        $('#loading').addClass('hidden');
      }, 1000);
      $(function(){
        // Managing slide changes
        document.getElementById('btn-next-slide-one').onclick =
          function () {
            console.log("slide next triggered from slide one");
            $('.carousel').carousel('next');
             /*MANAGE PROGRESS BAR*/
             document.getElementById('PBOne').style['color'] = colorInactive;
             document.getElementById('PBOne').style['font-weight'] = fontWeightInactive;
             document.getElementById('PBTwo').style['color'] = colorActive;
             document.getElementById('PBTwo').style['font-weight'] = fontWeightActive;
           };
       document.getElementById('btn-next-slide-two').onclick =
        function () {
          console.log("slide next triggered from slide two");
          if (cardOne == false && cardTwo == false && cardThree == false && cardFour == false){
            //show alert and close after 4 seconds
            document.getElementById('alertBanner').style['visibility'] = "visible";
            var $alert = $('.alert').alert()
              setTimeout(function () {
                $alert.alert('close')
              }, 4000)
            }
            else{
              //$('.carousel').carousel('next');
              popup.style.display = "block";
              /*MANAGE PROGRESS BAR*/
              document.getElementById('PBTwo').style['color'] = colorInactive;
              document.getElementById('PBTwo').style['font-weight'] = fontWeightInactive;
              document.getElementById('PBThree').style['color'] = colorActive;
              document.getElementById('PBThree').style['font-weight'] = fontWeightActive;
            }
        };
           document.getElementById('btn-prev-slide-two').onclick =
               function () {
                 console.log("slide prev triggered from slide two");
                 $('.carousel').carousel('prev');
                 /*MANAGE PROGRESS BAR*/
                 document.getElementById('PBTwo').style['color'] = colorInactive;
                 document.getElementById('PBTwo').style['font-weight'] = fontWeightInactive;
                 document.getElementById('PBOne').style['color'] = colorActive;
                 document.getElementById('PBOne').style['font-weight'] = fontWeightActive;
               };
           document.getElementById('btn-next-slide-three').onclick =
               function () {
                 console.log("slide next triggered from slide three");
                 $('.carousel').carousel('next');
                 /*MANAGE PROGRESS BAR*/
                 document.getElementById('PBThree').style['color'] = colorInactive;
                 document.getElementById('PBThree').style['font-weight'] = fontWeightInactive;
                 document.getElementById('PBFour').style['color'] = colorActive;
                 document.getElementById('PBFour').style['font-weight'] = fontWeightActive;
               };
           document.getElementById('btn-prev-slide-three').onclick =
               function () {
                 console.log("slide prev triggered from slide three");
                 $('.carousel').carousel('prev');
                 /*MANAGE PROGRESS BAR*/
                 document.getElementById('PBThree').style['color'] = colorInactive;
                 document.getElementById('PBThree').style['font-weight'] = fontWeightInactive;
                 document.getElementById('PBTwo').style['color'] = colorActive;
                 document.getElementById('PBTwo').style['font-weight'] = fontWeightActive;
               };
           document.getElementById('btn-prev-slide-four').onclick =
               function () {
                 console.log("slide prev triggered from slide three");
                 $('.carousel').carousel('prev');
                 /*MANAGE PROGRESS BAR*/
                 document.getElementById('PBFour').style['color'] = colorInactive;
                 document.getElementById('PBFour').style['font-weight'] = fontWeightInactive;
                 document.getElementById('PBThree').style['color'] = colorActive;
                 document.getElementById('PBThree').style['font-weight'] = fontWeightActive;
               };
           document.getElementById('garminLogin').onclick =
            function () {

              document.getElementById('garminLogin').style['background-color'] = '#1ac2ff';
              document.getElementById('formGroupExampleInput').disabled = 'true';
              document.getElementById('inputPassword4').disabled = 'true';
              document.getElementById('garminLogin').disabled = 'true';
              document.getElementById('autoSizingCheck').disabled = 'true';
              setTimeout(function(){
                //some fake loading time for the feeling
                popup.style.display = "none";
                $('.carousel').carousel('next');

              }, 700);
            };

            /*
            Manage selected services
            */
            function handleNextBtn(state){
              if (state){
                console.log(state);
                $("#btn-next-slide-two").prop('disabled', false);
              }
              else if (cardOne == false && cardTwo == false && cardThree == false && cardFour == false){
                $("#btn-next-slide-two").prop('disabled', true);
              }
            }
            document.getElementById('serviceOne').onclick =
                 function () {
                   if (cardFour == true){}
                   else{

                     if (cardOne == true){
                       cardOne = false;
                       document.getElementById('serviceOne').style['border'] = none;
                       document.getElementById('serviceOne').style['border-radius'] = none;
                     }
                     else {
                       cardOne = true;

                       document.getElementById('serviceOne').style['border'] = border;
                       document.getElementById('serviceOne').style['border-radius'] = borderRadius;
                     }
                     handleNextBtn(cardOne);
                   }

                   console.log("card service one was triggered on slide two");
                   console.log('cardOne now has value ' + cardOne);
               };
             document.getElementById('serviceTwo').onclick =
                  function () {
                    if (cardFour == true){}
                    else{
                      if (cardTwo == true){
                        cardTwo = false;
                        document.getElementById('serviceTwo').style['border'] = none;
                        document.getElementById('serviceTwo').style['border-radius'] = none;
                      }
                      else {
                        cardTwo = true;
                        document.getElementById('serviceTwo').style['border'] = border;
                        document.getElementById('serviceTwo').style['border-radius'] = borderRadius;
                      }
                      handleNextBtn(cardTwo);
                    }

                    console.log("card service two was triggered on slide two");
                    console.log('cardTwo now has value ' + cardTwo);
                };
            document.getElementById('serviceThree').onclick =
                 function () {
                   if (cardFour == true){}
                   else{
                     if (cardThree == true){
                       cardThree = false;
                       document.getElementById('serviceThree').style['border'] = none;
                       document.getElementById('serviceThree').style['border-radius'] = none;
                     }
                     else {
                       cardThree = true;
                       document.getElementById('serviceThree').style['border'] = border;
                       document.getElementById('serviceThree').style['border-radius'] = borderRadius;
                     }
                     handleNextBtn(cardThree);
                   }

                   console.log("card service three was triggered on slide two");
                   console.log('cardThree now has value ' + cardThree);
               };
           document.getElementById('serviceFour').onclick =
                function () {
                  if (cardOne || cardTwo || cardThree == true){}
                  else {
                    if (cardFour == true){
                      cardFour = false;
                      document.getElementById('serviceFour').style['border'] = none;
                      document.getElementById('serviceFour').style['border-radius'] = none;
                    }
                    else {
                      cardFour = true;
                      document.getElementById('serviceFour').style['border'] = border;
                      document.getElementById('serviceFour').style['border-radius'] = borderRadius;
                    }
                    handleNextBtn(cardFour);
                  }

                  console.log("card service four was triggered on slide two");
                  console.log('cardFour now has value ' + cardFour);
              };





       });
       /*
        Variables for Progress Bar
       */
       id = 1;
       colorActive = "#000";
       colorInactive = "#888888";
       fontWeightActive = "bold";
       fontWeightInactive = "normal";
       /*
        Variables for slide 2 cards
       */
       var cardOne, cardTwo, cardThree, cardFour;
       var border = "2px solid #27AE60";
       var borderRadius = "4px";
       var none = 'none';

       window.onload = function () {
         console.log('Dokument geladen');
         cardOne = cardTwo = cardThree = cardFour = false;
         console.log('cardOne initialised with ' + cardOne);
         document.getElementById('PBOne').style['color'] = colorActive;
         document.getElementById('PBOne').style['font-weight'] = fontWeightActive;
       }

       // Get the GarminLogin popup
       var popup = document.getElementById('LoginPopup');
       // Get the button that opens the popup
       var btn = document.getElementById("btn-next-slide-two");
       // Get the <span> element that closes the popup
       var span = document.getElementsByClassName("close")[0];
       // When the user clicks the button, open the popup
       btn.onclick = function() {
           popup.style.display = "block";
       }
       // When the user clicks on <span> (x), close the popup
       span.onclick = function() {
           popup.style.display = "none";
       }
       // When the user clicks anywhere outside of the popup, close it
       window.onclick = function(event) {
           if (event.target == popup) {
               popup.style.display = "none";
           }
       }
    </script>
  </body>

</html>
